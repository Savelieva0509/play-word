!function(){var e=function(){var e=document.getElementById("input"),t=document.querySelector(".text-field"),n=e.value.toLowerCase();t.innerHTML="";for(var c=0;c<n.length;c++){var l=document.createElement("span");l.textContent=n[c],l.classList.add("letter"),t.appendChild(l)}};var t=function(e){e.addEventListener("click",(function(e){var t;e.ctrlKey&&e.target.classList.contains("letter")&&((t=e.target).classList.toggle("selected"),t.classList.contains("selected")?l.add(t):l.delete(t))}))};var n=function(e,t,n){var c=document.createElement("div");c.classList.add("selection-rect"),c.style.position="absolute",c.style.left=e+"px",c.style.top=t+"px",c.style.width="0",c.style.height="0",n.appendChild(c);var o=!1,s={x:e,y:t},a={x:e,y:t};function i(e){if(o){var t=(a={x:e.clientX,y:e.clientY}).x-s.x,n=a.y-s.y;c.style.left=Math.min(s.x,a.x)+"px",c.style.top=Math.min(s.y,a.y)+"px",c.style.width=Math.abs(t)+"px",c.style.height=Math.abs(n)+"px",document.querySelectorAll(".letter").forEach((function(e){var t=e.getBoundingClientRect();t.left<Math.max(s.x,a.x)&&t.right>Math.min(s.x,a.x)&&t.top<Math.max(s.y,a.y)&&t.bottom>Math.min(s.y,a.y)?(e.classList.add("selected-rect"),l.add(e)):e.classList.remove("selected-rect")}))}}n.addEventListener("mousedown",(function(e){console.log("handleMouseDown called"),e.target.classList.contains("letter")||(o=!0,s={x:e.clientX,y:e.clientY},document.addEventListener("mousemove",i))})),document.addEventListener("mouseup",(function(){o=!1,document.removeEventListener("mousemove",i)}))};var c=function(e,t){e.target.classList.contains("letter")||t.querySelectorAll(".letter").forEach((function(e){return e.classList.remove("selected")}))},l=new Set;console.log(l);var o=function(){var e,t,n=!1,c=new Map;function o(o){if(n){var s=o.clientX-e,a=o.clientY-t;l.forEach((function(e){var t=c.get(e),n=t.x+s,l=t.y+a;e.style.left="".concat(n,"px"),e.style.top="".concat(l,"px")}))}}function s(){n=!1,c.clear(),l.clear(),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",s)}document.addEventListener("mousedown",(function(a){var i=a.target,r=Array.from(l);r.length>0&&i.classList.contains("letter")&&!a.ctrlKey&&(n=!0,e=a.clientX,t=a.clientY,r.forEach((function(e){var t=e.getBoundingClientRect(),n=t.left,l=t.top;c.set(e,{x:n,y:l}),e.style.position="absolute",e.style.zIndex="1000"})),document.addEventListener("mousemove",o),document.addEventListener("mouseup",s))}))};document.querySelector(".button").addEventListener("click",(function(s){var a;e(),a=document.querySelector(".text-field"),n(0,0,a),a.querySelectorAll(".letter").forEach((function(e){e.addEventListener("click",(function(e){var n,c=e.target;!e.ctrlKey&&c.classList.contains("letter")?(n=null,console.log(l),{toggleSelection:function(e){null!==n&&n!==e&&(n.classList.remove("selected"),l.delete(n)),e.classList.toggle("selected"),(n=e.classList.contains("selected")?e:null)&&l.add(n)},selectedLetters:l}).toggleSelection(c):t(a)}))})),document.addEventListener("click",(function(e){a.contains(e.target)||e.ctrlKey||(n(0,0,a),c(e,a))})),o()}))}();
//# sourceMappingURL=index.2b5f183f.js.map
