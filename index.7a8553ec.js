!function(){var e=function(){var e=document.getElementById("input"),t=document.querySelector(".text-field"),n=e.value.toLowerCase();t.innerHTML="";for(var o=0;o<n.length;o++){var l=document.createElement("span");l.textContent=n[o],l.classList.add("letter"),t.appendChild(l)}};var t=function(e){e.addEventListener("click",(function(e){var t;e.ctrlKey&&e.target.classList.contains("letter")&&((t=e.target).classList.toggle("selected"),t.classList.contains("selected")?l.add(t):l.delete(t))}))};var n=function(e,t,n){var o=document.createElement("div");o.classList.add("selection-rect"),o.style.position="absolute",o.style.left=e+"px",o.style.top=t+"px",o.style.width="0",o.style.height="0",o.style.backgroundColor="rgba(0,0,0,0)",n.appendChild(o);var l=!1,c={x:e,y:t},s={x:e,y:t};function i(e){if(l){var t=(s={x:e.clientX,y:e.clientY}).x-c.x,n=s.y-c.y;o.style.left=Math.min(c.x,s.x)+"px",o.style.top=Math.min(c.y,s.y)+"px",o.style.width=Math.abs(t)+"px",o.style.height=Math.abs(n)+"px",document.querySelectorAll(".letter").forEach((function(e){var t=e.getBoundingClientRect();t.left<Math.max(c.x,s.x)&&t.right>Math.min(c.x,s.x)&&t.top<Math.max(c.y,s.y)&&t.bottom>Math.min(c.y,s.y)?e.classList.add("selected-rect"):e.classList.remove("selected-rect")}))}}n.addEventListener("mousedown",(function(e){console.log("handleMouseDown called"),e.target.classList.contains("letter")||(l=!0,c={x:e.clientX,y:e.clientY},document.addEventListener("mousemove",i))})),document.addEventListener("mouseup",(function(){l=!1,document.removeEventListener("mousemove",i)}))};var o=function(e,t){e.target.classList.contains("letter")||t.querySelectorAll(".letter").forEach((function(e){return e.classList.remove("selected")}))},l=new Set;var c=function(){var e,t,n=!1;function o(n,o,l){l.style.left=n-e+"px",l.style.top=o-t+"px"}function c(e){n&&l.forEach((function(t){o(e.pageX,e.pageY,t)}))}document.addEventListener("mousedown",(function(c){var s=c.target;if(l.size>0&&s.classList.contains("letter")){n=!0;var i=s.getBoundingClientRect();e=c.clientX-i.left,t=c.clientY-i.top,l.forEach((function(e){e.style.position="absolute",e.style.zIndex="1000",document.body.appendChild(e),o(c.pageX,c.pageY,e)}))}})),document.addEventListener("mousemove",c),document.addEventListener("mouseup",(function(){n&&(n=!1,document.removeEventListener("mousemove",c))}))};document.querySelector(".button").addEventListener("click",(function(s){var i,a,r;e(),a=document.querySelector(".text-field"),i=null,console.log(l),r={toggleSelection:function(e){null!==i&&i!==e&&(i.classList.remove("selected"),l.delete(i)),e.classList.toggle("selected"),(i=e.classList.contains("selected")?e:null)&&l.add(i)},selectedLetters:l}.toggleSelection,a.querySelectorAll(".letter").forEach((function(e){e.addEventListener("click",(function(e){var o=e.target;!e.ctrlKey&&o.classList.contains("letter")?(r(o),t(a)):n(0,0,a)}))})),document.addEventListener("click",(function(e){a.contains(e.target)||o(e,a)})),c()}))}();
//# sourceMappingURL=index.7a8553ec.js.map
