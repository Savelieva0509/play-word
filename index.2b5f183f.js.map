{"mappings":"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","sources":["src/js/showEnteredText.js","src/js/selectMultipleLetters.js","src/js/createSelectionRect.js","src/js/clearSelection.js","src/js/selectSettings.js","src/js/moveSelectedLetters.js","src/js/index.js","src/js/selectSingleLetter.js"],"sourcesContent":["function showEnteredText() {\n  const input = document.getElementById('input');\n  const textField = document.querySelector('.text-field');\n\n  const enteredText = input.value.toLowerCase();\n\n  textField.innerHTML = '';\n\n  for (let i = 0; i < enteredText.length; i++) {\n    const letter = document.createElement('span');\n    letter.textContent = enteredText[i];\n    letter.classList.add('letter');\n    textField.appendChild(letter);\n  }\n}\n\nexport default showEnteredText;\n","import { selectedLetters } from \"./selectSettings\";\nfunction selectMultipleLetters(textField) {\n  \n  function toggleSelection(letter) {\n    letter.classList.toggle('selected');\n    if (letter.classList.contains('selected')) {\n      selectedLetters.add(letter); // Добавляем выделенную букву в коллекцию\n    } else {\n      selectedLetters.delete(letter); // Удаляем выделенную букву из коллекции\n    }\n  }\n\n  function highlightLetter(event) {\n    if (event.ctrlKey && event.target.classList.contains('letter')) {\n      toggleSelection(event.target);\n    }\n  }\n\n  textField.addEventListener('click', highlightLetter);\n}\n\nexport default selectMultipleLetters;\n\n\n\n\n","import { selectedLetters } from './selectSettings';\nfunction createSelectionRect(startX, startY, textField) {\n  const selectionRect = document.createElement('div');\n  selectionRect.classList.add('selection-rect');\n  selectionRect.style.position = 'absolute';\n  selectionRect.style.left = startX + 'px';\n  selectionRect.style.top = startY + 'px';\n  selectionRect.style.width = '0';\n  selectionRect.style.height = '0';\n  \n  textField.appendChild(selectionRect);\n\n  let isCreatingSelectionRect = false;\n  let startCoords = { x: startX, y: startY };\n  let endCoords = { x: startX, y: startY };\n\n  function highlightText() {\n    const letters = document.querySelectorAll('.letter');\n\n    letters.forEach(letter => {\n      const rect = letter.getBoundingClientRect();\n\n      if (\n        rect.left < Math.max(startCoords.x, endCoords.x) &&\n        rect.right > Math.min(startCoords.x, endCoords.x) &&\n        rect.top < Math.max(startCoords.y, endCoords.y) &&\n        rect.bottom > Math.min(startCoords.y, endCoords.y)\n      ) {\n        letter.classList.add('selected-rect');\n        selectedLetters.add(letter);\n      } else {\n        letter.classList.remove('selected-rect');\n      }\n    });\n  }\n\n  function updateSelection(event) {\n    if (!isCreatingSelectionRect) return;\n\n    endCoords = { x: event.clientX, y: event.clientY };\n\n    const width = endCoords.x - startCoords.x;\n    const height = endCoords.y - startCoords.y;\n    selectionRect.style.left = Math.min(startCoords.x, endCoords.x) + 'px';\n    selectionRect.style.top = Math.min(startCoords.y, endCoords.y) + 'px';\n    selectionRect.style.width = Math.abs(width) + 'px';\n    selectionRect.style.height = Math.abs(height) + 'px';\n\n    highlightText();\n  }\n\n  function handleMouseDown(event) {\n    console.log('handleMouseDown called');\n    if (event.target.classList.contains('letter')) return;\n    isCreatingSelectionRect = true;\n    startCoords = { x: event.clientX, y: event.clientY };\n    document.addEventListener('mousemove', updateSelection);\n  }\n\n  function handleMouseUp() {\n    isCreatingSelectionRect = false;\n    document.removeEventListener('mousemove', updateSelection);\n  }\n\n  textField.addEventListener('mousedown', handleMouseDown);\n  document.addEventListener('mouseup', handleMouseUp);\n}\n\nexport default createSelectionRect;\n","function clearSelection(event, textField) {\n  if (!event.target.classList.contains('letter')) {\n    const letters = textField.querySelectorAll('.letter');\n    letters.forEach(letter => letter.classList.remove('selected'));\n  }\n}\n\nexport default clearSelection;\n","import selectSingleLetter from './selectSingleLetter';\nimport selectMultipleLetters from './selectMultipleLetters';\nimport createSelectionRect from './createSelectionRect';\nimport clearSelection from './clearSelection';\n\nconst selectedLetters = new Set();\nconsole.log(selectedLetters);\n\nfunction selectSettings() {\n  const textField = document.querySelector('.text-field');\n\n  // Переносим вызов createSelectionRect в начало функции\n  createSelectionRect(0, 0, textField);\n\n  textField.querySelectorAll('.letter').forEach(letter => {\n    letter.addEventListener('click', event => {\n      const target = event.target;\n      // Вызываем createSelectionRect при клике на пустом месте без нажатия Ctrl\n      if (!event.ctrlKey && target.classList.contains('letter')) {\n        selectSingleLetter(textField).toggleSelection(target);\n      } else {\n        selectMultipleLetters(textField);\n      }\n    });\n  });\n\n  document.addEventListener('click', event => {\n    if (!textField.contains(event.target) && !event.ctrlKey) {\n      createSelectionRect(0, 0, textField);\n      clearSelection(event, textField);\n    }\n  });\n}\n\nexport { selectSettings, selectedLetters };\n","import { selectedLetters } from './selectSettings';\n\nfunction moveSelectedLetters() {\n  let isDragging = false;\n  let initialMouseX, initialMouseY;\n  let initialPositions = new Map(); // Сохраняем начальные координаты для каждой буквы\n\n  document.addEventListener('mousedown', onMouseDown);\n\n  function onMouseDown(event) {\n    const target = event.target;\n    const selectedLettersArray = Array.from(selectedLetters); // Создаем массив с текущим содержимым коллекции\n\n    if (\n      selectedLettersArray.length > 0 &&\n      target.classList.contains('letter') &&\n      !event.ctrlKey \n    ) {\n      isDragging = true;\n\n      initialMouseX = event.clientX;\n      initialMouseY = event.clientY;\n\n      selectedLettersArray.forEach(letter => {\n        const rect = letter.getBoundingClientRect();\n        const initialX = rect.left;\n        const initialY = rect.top;\n        initialPositions.set(letter, { x: initialX, y: initialY });\n        letter.style.position = 'absolute';\n        letter.style.zIndex = '1000';\n      });\n\n      document.addEventListener('mousemove', onMouseMove);\n      document.addEventListener('mouseup', onMouseUp);\n    }\n  }\n\n  function onMouseMove(event) {\n    if (isDragging) {\n      const deltaX = event.clientX - initialMouseX;\n      const deltaY = event.clientY - initialMouseY;\n\n      selectedLetters.forEach(letter => {\n        const initialPosition = initialPositions.get(letter);\n        const newLeft = initialPosition.x + deltaX;\n        const newTop = initialPosition.y + deltaY;\n        letter.style.left = `${newLeft}px`;\n        letter.style.top = `${newTop}px`;\n      });\n    }\n  }\n\n  function onMouseUp() {\n    isDragging = false;\n    initialPositions.clear();\n    selectedLetters.clear();\n\n    document.removeEventListener('mousemove', onMouseMove);\n    document.removeEventListener('mouseup', onMouseUp);\n  }\n}\n\nexport default moveSelectedLetters;\n","import showEnteredText from './showEnteredText.js';\nimport { selectSettings } from './selectSettings';\nimport moveSelectedLetters from './moveSelectedLetters.js';\n\nconst showTextBtn = document.querySelector('.button');\nshowTextBtn.addEventListener('click', event => {\n  showEnteredText();\n  selectSettings();\n  moveSelectedLetters(); \n});\n","import { selectedLetters } from './selectSettings';\n\nfunction selectSingleLetter() {\n  let selectedLetter = null;\n\n  function toggleSelection(letter) {\n    // Вместо добавления класса selected, вы можете поместить буквы в массив\n    if (selectedLetter !== null && selectedLetter !== letter) {\n      selectedLetter.classList.remove('selected');\n      selectedLetters.delete(selectedLetter); // Удаление буквы из массива\n    }\n\n    letter.classList.toggle('selected');\n\n    selectedLetter = letter.classList.contains('selected') ? letter : null;\n    if (selectedLetter) {\n      selectedLetters.add(selectedLetter); // Добавление буквы в массив\n    }\n  }\nconsole.log(selectedLetters);\n  return {\n    toggleSelection,\n    selectedLetters,\n  };\n}\n\nexport default selectSingleLetter;\n\n"],"names":["$019146eb429cb9c7$export$2e2bcd8739ae039","input","document","getElementById","textField","querySelector","enteredText","value","toLowerCase","innerHTML","i","length","letter","createElement","textContent","classList","add","appendChild","$409bb006dafca20e$export$2e2bcd8739ae039","addEventListener","event","ctrlKey","target","contains","toggle","$07ead117ed7dcce3$export$55cc78cf0dc5aa15","delete","$fbf1b83992f128db$export$2e2bcd8739ae039","startX","startY","selectionRect","style","position","left","top","width","height","isCreatingSelectionRect","startCoords","x","y","endCoords","updateSelection","clientX","clientY","Math","min","abs","querySelectorAll","forEach","rect","getBoundingClientRect","max","right","bottom","remove","console","log","removeEventListener","$8319fb872153d95b$export$2e2bcd8739ae039","Set","$2699bbbe531d3ad7$export$2e2bcd8739ae039","initialMouseX","initialMouseY","isDragging","initialPositions","Map","onMouseMove","deltaX","deltaY","initialPosition","get","newLeft","newTop","concat","onMouseUp","clear","selectedLettersArray","Array","from","initialX","initialY","set","zIndex","selectedLetter","toggleSelection","selectedLetters"],"version":3,"file":"index.2b5f183f.js.map"}