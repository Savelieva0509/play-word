!function(){var e=function(){var e=document.getElementById("input"),t=document.querySelector(".text-field"),n=e.value.toLowerCase();t.innerHTML="";for(var o=0;o<n.length;o++){var c=document.createElement("span");c.textContent=n[o],c.classList.add("letter"),t.appendChild(c)}};var t=function(e){e.addEventListener("click",(function(e){var t;e.ctrlKey&&e.target.classList.contains("letter")&&((t=e.target).classList.toggle("selected"),t.classList.contains("selected")?c.add(t):c.delete(t))}))};var n=function(e,t,n){var o=document.createElement("div");o.classList.add("selection-rect"),o.style.position="absolute",o.style.left=e+"px",o.style.top=t+"px",o.style.width="0",o.style.height="0",n.appendChild(o);var l=!1,s={x:e,y:t},i={x:e,y:t};function a(e){if(l){var t=(i={x:e.clientX,y:e.clientY}).x-s.x,n=i.y-s.y;o.style.left=Math.min(s.x,i.x)+"px",o.style.top=Math.min(s.y,i.y)+"px",o.style.width=Math.abs(t)+"px",o.style.height=Math.abs(n)+"px",document.querySelectorAll(".letter").forEach((function(e){var t=e.getBoundingClientRect();t.left<Math.max(s.x,i.x)&&t.right>Math.min(s.x,i.x)&&t.top<Math.max(s.y,i.y)&&t.bottom>Math.min(s.y,i.y)?(e.classList.add("selected-rect"),c.add(e)):e.classList.remove("selected-rect")}))}}n.addEventListener("mousedown",(function(e){console.log("handleMouseDown called"),e.target.classList.contains("letter")||(l=!0,s={x:e.clientX,y:e.clientY},document.addEventListener("mousemove",a))})),document.addEventListener("mouseup",(function(){l=!1,document.removeEventListener("mousemove",a)}))};var o=function(e,t){e.target.classList.contains("letter")||t.querySelectorAll(".letter").forEach((function(e){return e.classList.remove("selected")}))},c=new Set;var l=function(){var e,t,n=!1;function o(n,o,c){c.style.left=n-e+"px",c.style.top=o-t+"px"}function l(e){n&&c.forEach((function(t){o(e.pageX,e.pageY,t)}))}document.addEventListener("mousedown",(function(l){var s=l.target;if(c.size>0&&s.classList.contains("letter")){n=!0;var i=s.getBoundingClientRect();e=l.clientX-i.left,t=l.clientY-i.top,c.forEach((function(e){e.style.position="absolute",e.style.zIndex="1000",document.body.appendChild(e),o(l.pageX,l.pageY,e)}))}})),document.addEventListener("mousemove",l),document.addEventListener("mouseup",(function(){n&&(n=!1,document.removeEventListener("mousemove",l))}))};document.querySelector(".button").addEventListener("click",(function(s){var i,a,r;e(),a=document.querySelector(".text-field"),i=null,console.log(c),r={toggleSelection:function(e){null!==i&&i!==e&&(i.classList.remove("selected"),c.delete(i)),e.classList.toggle("selected"),(i=e.classList.contains("selected")?e:null)&&c.add(i)},selectedLetters:c}.toggleSelection,a.querySelectorAll(".letter").forEach((function(e){e.addEventListener("click",(function(e){var o=e.target;!e.ctrlKey&&o.classList.contains("letter")?(r(o),t(a)):n(0,0,a)}))})),document.addEventListener("click",(function(e){a.contains(e.target)||o(e,a)})),l()}))}();
//# sourceMappingURL=index.459feda6.js.map
