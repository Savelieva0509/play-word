{"mappings":"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","sources":["src/js/showEnteredText.js","src/js/selectSingleLetter.js","src/js/selectMultipleLetters.js","src/js/createSelectionRect.js","src/js/clearSelection.js","src/js/selectSettings.js","src/js/moveSelectedLetters.js","src/js/index.js"],"sourcesContent":["function showEnteredText() {\n  const input = document.getElementById('input');\n  const textField = document.querySelector('.text-field');\n\n  const enteredText = input.value.toLowerCase();\n\n  textField.innerHTML = '';\n\n  for (let i = 0; i < enteredText.length; i++) {\n    const letter = document.createElement('span');\n    letter.textContent = enteredText[i];\n    letter.classList.add('letter');\n    textField.appendChild(letter);\n  }\n}\n\nexport default showEnteredText;\n","import moveSingleLetter from './moveSingleLetter';\nimport { selectedLetters } from './selectSettings';\n\nfunction selectSingleLetter() {\n  let selectedLetter = null;\n\n  function toggleSelection(letter) {\n    // Вместо добавления класса selected, вы можете поместить буквы в массив\n    if (selectedLetter !== null && selectedLetter !== letter) {\n      selectedLetter.classList.remove('selected');\n      selectedLetters.delete(selectedLetter); // Удаление буквы из массива\n    }\n\n    letter.classList.toggle('selected');\n\n    selectedLetter = letter.classList.contains('selected') ? letter : null;\n    if (selectedLetter) {\n      selectedLetters.add(selectedLetter); // Добавление буквы в массив\n    }\n  }\nconsole.log(selectedLetters);\n  return {\n    toggleSelection,\n    selectedLetters,\n  };\n}\n\nexport default selectSingleLetter;\n\n","import { selectedLetters } from \"./selectSettings\";\nfunction selectMultipleLetters(textField) {\n  \n  function toggleSelection(letter) {\n    letter.classList.toggle('selected');\n    if (letter.classList.contains('selected')) {\n      selectedLetters.add(letter); // Добавляем выделенную букву в коллекцию\n    } else {\n      selectedLetters.delete(letter); // Удаляем выделенную букву из коллекции\n    }\n  }\n\n  function highlightLetter(event) {\n    if (event.ctrlKey && event.target.classList.contains('letter')) {\n      toggleSelection(event.target);\n    }\n  }\n\n  textField.addEventListener('click', highlightLetter);\n}\n\nexport default selectMultipleLetters;\n\n\n\n\n","import { selectedLetters } from './selectSettings';\nfunction createSelectionRect(startX, startY, textField) {\n  const selectionRect = document.createElement('div');\n  selectionRect.classList.add('selection-rect');\n  selectionRect.style.position = 'absolute';\n  selectionRect.style.left = startX + 'px';\n  selectionRect.style.top = startY + 'px';\n  selectionRect.style.width = '0';\n  selectionRect.style.height = '0';\n  \n  textField.appendChild(selectionRect);\n\n  let isCreatingSelectionRect = false;\n  let startCoords = { x: startX, y: startY };\n  let endCoords = { x: startX, y: startY };\n\n  function highlightText() {\n    const letters = document.querySelectorAll('.letter');\n\n    letters.forEach(letter => {\n      const rect = letter.getBoundingClientRect();\n\n      if (\n        rect.left < Math.max(startCoords.x, endCoords.x) &&\n        rect.right > Math.min(startCoords.x, endCoords.x) &&\n        rect.top < Math.max(startCoords.y, endCoords.y) &&\n        rect.bottom > Math.min(startCoords.y, endCoords.y)\n      ) {\n        letter.classList.add('selected-rect');\n        selectedLetters.add(letter);\n      } else {\n        letter.classList.remove('selected-rect');\n      }\n    });\n  }\n\n  function updateSelection(event) {\n    if (!isCreatingSelectionRect) return;\n\n    endCoords = { x: event.clientX, y: event.clientY };\n\n    const width = endCoords.x - startCoords.x;\n    const height = endCoords.y - startCoords.y;\n    selectionRect.style.left = Math.min(startCoords.x, endCoords.x) + 'px';\n    selectionRect.style.top = Math.min(startCoords.y, endCoords.y) + 'px';\n    selectionRect.style.width = Math.abs(width) + 'px';\n    selectionRect.style.height = Math.abs(height) + 'px';\n\n    highlightText();\n  }\n\n  function handleMouseDown(event) {\n    console.log('handleMouseDown called');\n    if (event.target.classList.contains('letter')) return;\n    isCreatingSelectionRect = true;\n    startCoords = { x: event.clientX, y: event.clientY };\n    document.addEventListener('mousemove', updateSelection);\n  }\n\n  function handleMouseUp() {\n    isCreatingSelectionRect = false;\n    document.removeEventListener('mousemove', updateSelection);\n  }\n\n  textField.addEventListener('mousedown', handleMouseDown);\n  document.addEventListener('mouseup', handleMouseUp);\n}\n\nexport default createSelectionRect;\n","function clearSelection(event, textField) {\n  if (!event.target.classList.contains('letter')) {\n    const letters = textField.querySelectorAll('.letter');\n    letters.forEach(letter => letter.classList.remove('selected'));\n  }\n}\n\nexport default clearSelection;\n","import selectSingleLetter from './selectSingleLetter';\nimport selectMultipleLetters from './selectMultipleLetters';\nimport createSelectionRect from './createSelectionRect';\nimport clearSelection from './clearSelection';\nconst selectedLetters = new Set();\n\nfunction selectSettings() {\n  const textField = document.querySelector('.text-field');\n\n  const { toggleSelection, selectedLetters } = selectSingleLetter(textField);\n \n  textField.querySelectorAll('.letter').forEach(letter => {\n    letter.addEventListener('click', event => {\n      const target = event.target;\n      if (!event.ctrlKey && target.classList.contains('letter')) {\n        toggleSelection(target);\n        selectMultipleLetters(textField);\n      } else {\n        createSelectionRect(0, 0, textField);\n      }\n    });\n  });\n\n  document.addEventListener('click', event => {\n    if (!textField.contains(event.target)) {\n      clearSelection(event, textField);\n    }\n  });\n}\n\nexport { selectSettings, selectedLetters };","import { selectedLetters } from './selectSettings';\n\nfunction moveSelectedLetters() {\n  let isDragging = false;\n  let offsetX, offsetY;\n\n  // Обработчик события mousedown для начала перемещения букв\n  document.addEventListener('mousedown', event => {\n    const target = event.target;\n    if (selectedLetters.size > 0 && target.classList.contains('letter')) {\n      isDragging = true;\n\n      // Получаем начальные координаты букв и координаты указателя мыши\n      const rect = target.getBoundingClientRect();\n      offsetX = event.clientX - rect.left;\n      offsetY = event.clientY - rect.top;\n\n      // Перемещаем все выделенные буквы в начальное положение\n      selectedLetters.forEach(letter => {\n        letter.style.position = 'absolute';\n        letter.style.zIndex = '1000';\n        document.body.appendChild(letter);\n        moveAt(event.pageX, event.pageY, letter);\n      });\n    }\n  });\n\n  // Функция для перемещения букв в новые координаты\n  function moveAt(pageX, pageY, letter) {\n    letter.style.left = pageX - offsetX + 'px';\n    letter.style.top = pageY - offsetY + 'px';\n  }\n\n  // Обработчик события mousemove для перемещения букв\n  function onMouseMove(event) {\n    if (isDragging) {\n      selectedLetters.forEach(letter => {\n        moveAt(event.pageX, event.pageY, letter);\n      });\n    }\n  }\n\n  document.addEventListener('mousemove', onMouseMove);\n\n  // Обработчик события mouseup для завершения перемещения букв\n  document.addEventListener('mouseup', () => {\n    if (isDragging) {\n      isDragging = false;\n      document.removeEventListener('mousemove', onMouseMove);\n    }\n  });\n}\n\nexport default moveSelectedLetters;\n","import showEnteredText from './showEnteredText.js';\nimport { selectSettings } from './selectSettings';\nimport moveSelectedLetters from './moveSelectedLetters.js';\n\nconst showTextBtn = document.querySelector('.button');\nshowTextBtn.addEventListener('click', event => {\n  showEnteredText();\n  selectSettings();\n  moveSelectedLetters(); \n});\n"],"names":["$ee1258cdfdb10be9$export$2e2bcd8739ae039","input","document","getElementById","textField","querySelector","enteredText","value","toLowerCase","innerHTML","i","length","letter","createElement","textContent","classList","add","appendChild","$e818855394d22686$export$2e2bcd8739ae039","selectedLetter","console","log","$4df8b946f656a514$export$55cc78cf0dc5aa15","remove","delete","toggle","contains","$00a5094cca4cb504$export$2e2bcd8739ae039","addEventListener","event","ctrlKey","target","$de94c5465e95ff5c$export$2e2bcd8739ae039","startX","startY","selectionRect","style","position","left","top","width","height","isCreatingSelectionRect","startCoords","x","y","endCoords","updateSelection","clientX","clientY","Math","min","abs","querySelectorAll","forEach","rect","getBoundingClientRect","max","right","bottom","removeEventListener","$3f366115d0725b9c$export$2e2bcd8739ae039","Set","$4df8b946f656a514$export$13e2f5017bdadde9","toggleSelection","selectedLetters","$b9ebc0daf2ef80ce$export$2e2bcd8739ae039","offsetX","offsetY","isDragging","moveAt","pageX","pageY","onMouseMove","size","zIndex","body"],"version":3,"file":"index.7c3d30d0.js.map"}