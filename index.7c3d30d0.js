var e=function(){const e=document.getElementById("input"),t=document.querySelector(".text-field"),n=e.value.toLowerCase();t.innerHTML="";for(let e=0;e<n.length;e++){const s=document.createElement("span");s.textContent=n[e],s.classList.add("letter"),t.appendChild(s)}};var t=function(){let e=null;return console.log(o),{toggleSelection:function(t){null!==e&&e!==t&&(e.classList.remove("selected"),o.delete(e)),t.classList.toggle("selected"),e=t.classList.contains("selected")?t:null,e&&o.add(e)},selectedLetters:o}};var n=function(e){e.addEventListener("click",(function(e){var t;e.ctrlKey&&e.target.classList.contains("letter")&&((t=e.target).classList.toggle("selected"),t.classList.contains("selected")?o.add(t):o.delete(t))}))};var s=function(e,t,n){const s=document.createElement("div");s.classList.add("selection-rect"),s.style.position="absolute",s.style.left=e+"px",s.style.top=t+"px",s.style.width="0",s.style.height="0",n.appendChild(s);let l=!1,c={x:e,y:t},i={x:e,y:t};function a(e){if(!l)return;i={x:e.clientX,y:e.clientY};const t=i.x-c.x,n=i.y-c.y;s.style.left=Math.min(c.x,i.x)+"px",s.style.top=Math.min(c.y,i.y)+"px",s.style.width=Math.abs(t)+"px",s.style.height=Math.abs(n)+"px",document.querySelectorAll(".letter").forEach((e=>{const t=e.getBoundingClientRect();t.left<Math.max(c.x,i.x)&&t.right>Math.min(c.x,i.x)&&t.top<Math.max(c.y,i.y)&&t.bottom>Math.min(c.y,i.y)?(e.classList.add("selected-rect"),o.add(e)):e.classList.remove("selected-rect")}))}n.addEventListener("mousedown",(function(e){console.log("handleMouseDown called"),e.target.classList.contains("letter")||(l=!0,c={x:e.clientX,y:e.clientY},document.addEventListener("mousemove",a))})),document.addEventListener("mouseup",(function(){l=!1,document.removeEventListener("mousemove",a)}))};var l=function(e,t){if(!e.target.classList.contains("letter")){t.querySelectorAll(".letter").forEach((e=>e.classList.remove("selected")))}};const o=new Set;function c(){const e=document.querySelector(".text-field"),{toggleSelection:o,selectedLetters:c}=t();e.querySelectorAll(".letter").forEach((t=>{t.addEventListener("click",(t=>{const l=t.target;!t.ctrlKey&&l.classList.contains("letter")?(o(l),n(e)):s(0,0,e)}))})),document.addEventListener("click",(t=>{e.contains(t.target)||l(t,e)}))}var i=function(){let e,t,n=!1;function s(n,s,l){l.style.left=n-e+"px",l.style.top=s-t+"px"}function l(e){n&&o.forEach((t=>{s(e.pageX,e.pageY,t)}))}document.addEventListener("mousedown",(l=>{const c=l.target;if(o.size>0&&c.classList.contains("letter")){n=!0;const i=c.getBoundingClientRect();e=l.clientX-i.left,t=l.clientY-i.top,o.forEach((e=>{e.style.position="absolute",e.style.zIndex="1000",document.body.appendChild(e),s(l.pageX,l.pageY,e)}))}})),document.addEventListener("mousemove",l),document.addEventListener("mouseup",(()=>{n&&(n=!1,document.removeEventListener("mousemove",l))}))};document.querySelector(".button").addEventListener("click",(t=>{e(),c(),i()}));
//# sourceMappingURL=index.7c3d30d0.js.map
